{% extends 'base.html' %}

{% block content %}

<h2>Upload History</h2>

{% if uploaded_files|length != 0 %}
<p>
    Here are the files you have uploaded so far.
</p>

<table class="table table-striped table-hover mt-5">
    <thead>
        <tr>
            <th>Subject</th>
            <th>Data Type</th>
            <th>Event Name</th>
            <th>File Name</th>
            <th>File Size</th>
            <th>Uploaded At</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for file in uploaded_files %}
        <tr>
            <td>{{ file.subject_id }}</td>
            <td>{{ file.data_type }}</td>
            <td>{{ file.event_name }}</td>
            <td>{{ file.file_name }}</td>
            <td>{{ file.file_size_mb }} MB</td>
            <td>{{ file.uploaded_at }}</td>
            <td>
                <div class="btn-group" role="group" aria-label="Basic outlined example">
                    <a href="{{ url_for('upload.retrieve', uuid=file.uuid) }}" class="btn btn-s btn-outline-primary">
                        <i class="bi bi-cloud-download icon icon-xse"></i>
                    </a>
                    <a href="{{ url_for('upload.delete', uuid=file.uuid) }}" class="btn btn-s btn-outline-danger">
                        <i class="bi bi-trash icon icon-xs"></i>
                    </a>
                </div>
                <!-- <a class="icon-link icon-link-hover" href="#">
                    Download
                    <img alt="Download" class="bi bi-cloud-download icon icon-xs">
                </a>
                <a class="icon-link icon-link-hover" href="#">
                    Delete
                    <img alt="Delete" class="bi bi-trash icon icon-xs">
                </a>
                <a href="{{ url_for('upload.delete', uuid=file.uuid) }}" class="btn btn-danger btn-sm">Delete</a> -->
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>
    You have not uploaded any files yet.
</p>
{% endif %}

{% endblock %}